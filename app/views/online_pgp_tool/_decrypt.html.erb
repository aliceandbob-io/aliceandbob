<fieldset data-controller="decrypt" class="mb-5">
  <legend>Decrypt a message</legend>
  <div class="row d-none error bg-danger rounded p-3 mb-4" data-target="decrypt.error">
    <span>An error has occured. Please verify the submitted data or try again later.</span>
  </div>
  <div class="row warning bg-warning text-dark rounded p-3 mb-4">
    <span>This tool will soon migrate to a new version of openPGP.js: the <kbd>brainpool</kbd> and <kbd>secp256k1</kbd> curves will no longer be supported for key generation, encryption and decryption.</span>
  </div>
  <div class="row mb-3">
    <div class="col-lg-6">
        <label>Text to decrypt</label>
        <div class="custom-textarea" spellcheck="false" contentEditable="true" data-target="decrypt.input"></div>
    </div>
    <div class="col-lg-6">
        <label>Your PGP private key</label>
        <div class="custom-textarea" spellcheck="false" contentEditable="true" data-target="decrypt.key"></div>
    </div>
    <div class="col">
      <div class="form-group mt-3">
        <label>Passphrase</label>
        <div class="input-group">
          <input type="password" class="form-control" data-target="decrypt.passphrase">
          <div class="input-group-append" data-action="click->decrypt#showPassphrase">
            <a class="input-group-text">
              <span class="material-icons">
                visibility_off
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button data-action="click->decrypt#decrypt" data-target="decrypt.decryptButton" type="button" class="btn btn-primary btn-lg" onclick="ga('send', 'event', 'Online pgp tool', 'Decrypt')">
    <span class="mr-3">Decrypt</span>
    <span class="material-icons icon-fix">lock_open</span>
    <span class="spinner-border icon-fix spinner-border-sm d-none" role="status" aria-hidden="true"></span>
  </button>
  <br>
  <br>
  <br>
  <div class="row d-none" data-target="decrypt.initialState">
    <div class="col">
      <label>Your decrypted message</label>
      <span class="material-icons md-light copy" data-action="click->decrypt#copyToClipboard">content_copy</span>
      <span class="copy-badge badge badge-light d-none">Copied!</span>
      <div class="custom-textarea output" spellcheck="false" contentEditable="true" data-target="decrypt.output"></div>
    </div>
  </div>
</fieldset>
